

# Servlet

### 예상 질문 리스트 (차근차근 공부하자..)

---

#### Servlet에 대해서 설명해주세요

> 서블릿은 클라이언트 요청을 처리하고, 그 결과를 다시 클라이언트에게 전송하는 Servlet 클래스의 구현 규칙을 지킨 자바 프로그램입니다.
> 
> 서블릿을 사용하게 되면 웹 페이지를 동적으로 생성하여 클라이언트에게 반환 해줄 수 있습니다.

<br>


#### JSP는 뭔가요?

> JavaServer Pages의 약자로 html에 자바코드를 작성하여 동적웹페이지를 생성하는 웹어플리케이션 도구입니다.
> 
> JSP가 실행되면 자바 서블릿으로 변환되며(jasper가 컴파일) 웹 어플리케이션 서버에서 동작되면서 필요한 기능을 수행하고
>
> HTML을 작성하여 클라이언트로 응답합니다.

#### CGI는 뭔가요?




#### WAS는 뭐고 무슨일을 하나요?

![web-service-architecture](https://github.com/k-mini/Tech-Interview/assets/83693386/7802cb59-e75c-4f6f-a5d6-750a06dd413d)

> DB 조회 및 다양한 로직 처리 요구 시 동적인 컨텐츠를 제공하기 위해 만들어진 애플리케이션 서버
>
> 프로그램 실행 환경 및 DB 접속 기능 제공 (jdbc, 커넥션풀 등등..)
> 
> 여러 트랜잭션 관리 기능
>
> 업무 처리하는 비즈니스 로직 수행

#### WAS랑 웹서버는 왜 분리되어 있나요?

> 기능을 분리하면 서버 부하 관리에 좋기 때문입니다.
>
> 서버는 비즈니스 로직을 처리하기 바쁜데 정적 컨텐츠까지 혼자서 처리를 하면 부담이 크기 때문임.
>
> 또한 웹서버가 사용자의 요청을 받고 응답함으로써 WAS의 보안을 유지할 수 있다.

#### Servlet 동작 방식을 간단하게 설명해주세요.

<img width="610" alt="img1 daumcdn" src="https://github.com/k-mini/Tech-Interview/assets/83693386/06fe397d-8db0-4b23-8875-d142485c67a5">


> 사용자가 URL을 요청하면 요청이 서블릿 컨테이너( ex.톰캣 ) 로 전송됩니다.
> 
> 요청받은 서블릿 컨테이너는 HttpRequest, HttpResponse 객체를 생성합니다.
> 
> 사용자가 요청한 URL이 어느 서블릿에 대한 요청인지 찾습니다.
> 
> 서블릿이 메모리에 있는지 확인 후 없으면, init() 메소드를 호출하여 로딩합니다.
> 
> service() 메소드를 호출하고 클라이언트의 요청방식에 따라 doGet() do Post()과 같은 메소드를 호출합니다.
> 
> 동적 페이지를 생성한 후 HttpResponse 객체에 응답을 보내게 됩니다.
> 
> 클라이언트에 최종 결과를 응답한 후 HttpResponse, HttpResponse 객체를 소멸합니다.


#### Servlet의 생명 주기를 설명해주세요.

> 클라이언트의 요청이 들어오면 서블릿 컨테이너는 매핑된 서블릿이 메모리에 있는지 확인합니다. 메모리에 없으면 init() 메소드를 호출해서 메모리에 적재.
> 
> 서블릿의 service() 메소드를 먼저 호출 후 요청 타입에 따라 doGet() doPost() 와 같은 메소드로 분기합니다.
> 
> 서블릿 컨테이너가 서블릿에 종료 요청을 하면 destory() 메소드가 호출됩니다.

#### Servlet Container의 특징에 대해 설명해주세요

> 서블릿의 생명주기를 관리
> 
> 요청이 올 때마다 자바 스레드를 하나 생성해서 멀티 쓰레드 처리를 합니다.
> 
> 개발자가 비즈니스 로직에 집중할 수 있도록 HTTP프로토콜을 이해하고 HTTP 요청 메시지 파싱 및 Content=Type 확인, HTTP 응답 메시지 생성 등 작업을 대신 처리해줍니다.

#### JSP 동작 방식을 간단하게 설명해주세요.

> 해당 JSP파일에 대한 요청이 들어오면 해당 JSP 파일에 대한 서블릿 소스파일이 있는지 확인합니다.
> 
> 있으면 서블릿을 실행하고 없으면 서블릿으로 컴파일하여 서블릿 컨테이너에 적재합니다.
> 
> 그 뒤에는 마찬가지로 서블릿 동작하듯이 동작.
>
> 서블릿으로 변환된 JSP는 \_jspinit() 메소드에 의해 메모리에 로드되고 \_jspService() 메소드가 실행됩니다.
> 
> 또한 해당 페이지가 사라지거나 또는 변경되어 새로이 load될 필요가 있을때 jspDestroy() 메소드가 실행됩니다. 새롭게 생성되는 경우 다시 새로운 instance의 init() 이 호출됩니다.

